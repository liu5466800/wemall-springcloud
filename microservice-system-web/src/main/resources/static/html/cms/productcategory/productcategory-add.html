<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="UTF-8">
    <title>欢迎页面-X-admin2.0</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../../../css/common/font.css">
	<link rel="stylesheet" href="../../../css/common/xadmin.css">
	
	 <script type="text/javascript" src="../../../plugins/jquery-3.2.1/jquery-3.2.1.min.js"></script>
	 <script type="text/javascript" src="../../../plugins/layui-2.3.0/layui.js"></script>
	 <script type="text/javascript" src="../../../js/common/xadmin.js"></script>
	 <script type="text/javascript" src="../../../js/common/config.js"></script>
	 <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
	 <!--[if lt IE 9]>
	   <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
	   <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
	 <![endif]-->
  </head>
  
  <body>
    <div class="x-body layui-anim layui-anim-up">
        <form class="layui-form" id="productcategoryadd-form">
			<div class="layui-form-item">
				<label class="layui-form-label">分类名称</label>
				<div class="layui-input-inline">
					<input type="text" name="categoryName" lay-filter="categoryName"
						autocomplete="off" placeholder="请输入分类名称"
						class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">内容描述</label>
				<div class="layui-input-inline">
					<input type="text" id="text" name="text" lay-filter="text"
						lay-verify="text" autocomplete="off" placeholder="请输内容描述"
						class="layui-input">
				</div>
			</div>
			
			<div class="layui-form-item">
				<label class="layui-form-label">状态</label>
				<div class="layui-input-block">
					<input type="radio" name="status" value="0" title="禁用" >
					<input type="radio" name="status" value="1" title="发布"> 
				</div>
			</div> 
			<div class="layui-form-item">
				<label class="layui-form-label">描述</label>
				<div class="layui-input-inline">
					<input type="text" name="description" lay-verify="description"
						autocomplete="off" placeholder="请输入描述"
						class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label"></label>
				<div class="layui-input-inline">
					<button class="layui-btn" lay-submit="" id="productcategoryadd" lay-filter="productcategoryadd">提交</button>
					<button type="reset" class="layui-btn layui-btn-primary" id="productcategoryreset" >重置</button>
				</div>
			</div>
      </form>
    </div>
    <script>
    layui.use(['layer','form', 'layedit', 'laydate','tree' ], function() {
		var $ = layui.jquery,
		  form = layui.form,
		  layer = layui.layer,
		  layedit = layui.layedit,
		  upload = layui.upload,
		  element = layui.element,
		  laydate = layui.laydate,
		  tree = layui.tree;
		
		  //自定义验证规则
		  form.verify({
			 
		  });
		  
		  //监听提交
		  form.on('submit(productcategoryadd)', function(data,index){
			  console.log("data.field:"+data.field);
		    		$.ajax({
		                type: "POST",
		                async: false,
		                dataType: "json",
		                url: contextPath+"/MICROSERVICE-CMS/productCategory/add",
		                data: data.field,
		                success: function (obj) {
		                     layer.msg("添加成功");
		                     var index = parent.layer.getFrameIndex(window.name);
			                 parent.layer.close(index);
			                 parent.window.location.href=contextPath+"/MICROSERVICE-SYSTEM-WEB/html/cms/productcategory/productcategory-list.html";
		                },
		                error: function(data) {
		                	 	layer.msg("网络错误");
		                }
		            });
		    		return false;
		  });
		
		  form.on('submit(productcategoryreset)', function(data){
			  form.render();
	  	  });
		  
	});
	
	
	
	
    </script>

  </body>

</html>